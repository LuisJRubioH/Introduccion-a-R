---
title: "Estructura de datos en R - Matrices"
author: "Luis J rubio"
date: "2026-01-19"
output:
  html_document:
    code_folding: hide
---

## **Matrices**
Podemos pensar en las matrices como vectores multidimensionales. Al igual que un
vector, únicamente pueden contener datos de un sólo tipo.
Las matrices son arreglos rectangulares de filas ( row ) y columnas ( col ) con
información numérica, caracteres o lógica. En R existen varias formas para construir
una matriz.

A partir de la función  ¨**matrix()** , cuya sintaxis es
```
matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)
```
Donde 

- **data** es el vector que contiene los elementos que formaran parte de la matriz

- **nrow** es la cantidad de filas

- **ncol** es la cantidad de columnas de la matriz que se está creando

- **byrow** es un valor lógico. Si es  TRUE el vector que pasamos será ordenado por
filas

- **dimnames** nombres asignado a filas y columnas.


Por ejemplo, para crear una matriz de 3 filas y 5 columnas (es decir, de dimensión
3 × 5) con los primeros 15 números positivos podemos hacerlo con la siguiente


```{r}
M <- matrix(data=1:15, nrow=3, ncol=5, byrow=FALSE) # por columnas
M
```

```{r}
M <- matrix(data=1:15, nrow=3, ncol=5, byrow = TRUE) # por filas
M
```

Veamos un ejemplo en que hagamos uso del argumento  dimnames para dar
nombre a las filas y columnas:

```{r}
M <- matrix(1:15,
nrow = 3,
ncol = 5,
byrow = TRUE,
dimnames = list(
c("Supermercado", "Tienda", "Verduleria"),
c("Naranjas", "Bananas", "Melon", "Fresas", "Sandia")
)
)
M
```
#### **Dimensión: número de filas y columnas de una matriz**

Aplicada a una matriz, la función  **dim()** nos devuelve las dimensiones de la misma.
Esto es, un vector de enteros de longitud 2, cuya primera componente indica el
número de filas y la segunda el número de columnas.

La función  **sample()** : es quizás la función más simple para generar una serie de
datos aleatorios.Su sintaxis es  

```
sample(x, size, replace = FALSE)
```
es decir, debemos indicarle como argumento el vector origen ( **x** ) del que se extraen los datos (números, letras, etc.), después la longitud ( **size** ) de la sucesión a generar y si se puede o no repetir elemento ( **replace** ), es decir, si la extracción se realiza con o sin reposición.

Construimos una secuencia de números aleatorios

```{r}
aleatorios <- sample(x = 0:16, size = 16, replace = TRUE)
print(aleatorios)
```
Contruimos la matriz usando la secuencia anterior

```{r}
M <- matrix(data=aleatorios, nrow=4, ncol = 4, byrow = TRUE)
print(M)
print(dim(M))
```
Además con las funciones  **nrow()** y  **ncol()** podemos conocer el número de filas y
columnas, respectivamente:

```{r}
print(nrow(M))
print(ncol(M))
```
La función  **length()** que utilizamos en la sección anterior para obtener la longitud de
un vector, también podemos aplicarla a matrices, en cuyo caso nos devuelve la
cantidad de elementos en la matriz (que será igual, como ya comentamos, al
producto del número de filas por el número de columnas)

```{r}
print(length(M))
```

**Nombre de filas y columnas** 

Vimos que al crear una matriz podemos indicar, usando el argumento  **dimnames** , dar
nombres a las filas y columnas. Pues bien, esto también podemos hacerlo si ya
tenemos creada la matriz. Para ello debemos utilizar las funciones  **colnames()** y
**rownames()**.

```{r}
M = matrix(1:15, nrow = 3, ncol = 5, byrow = TRUE)
print(M)
```
```{r}
rownames(M) <- c('Supermercado', 'Tienda','Verduleria')
colnames(M) <- c('Naranjas','Bananas', 'Melon','Fresas', 'Sandia')
print(M)
```
Podemos utilizar la función  **dimnames()** para obtener una lista que contiene dos
vectores con los atributos  rownames y  colnames

```{r}
dimnames(M)
```
En ocasiones puede que necesitemos eliminar los nombres de la matriz (o sólo los de
las filas o sólo los de las columnas). Para ello bastará con asignar el valor NULL a los
nombres de las filas o columnas o ambos, o usando la función  unname()  para borrar
todos los nombres.

```{r}
# creamos copias idénticas de M
# Borrar nombres de las columnas+
M1 = M2 = M 
print(M1)
print(M2)
```

Eliminamos los nombres de las columnas de M1

```{r}
colnames(M1) <- NULL
print(M1)
```
Eliminamos los nombres de las filas de M2

```{r}
rownames(M2) <- NULL
print(M2)
```
Para eliminar nombres de filas y columnas a la vez podemos usar la función *unname()*

```{r}
print(M)
unname(M)
```
#### **Seleccionar elementos de una matriz**

La forma más común de crear subconjuntos de matrices es una generalización simple
de los subconjuntos en una dimensión (vectores): simplemente usando los corchetes
**[,]**, pero proporcionando un índice para cada dimensión (el número de fila(s) y el
número de columna(s) que nos interesan), separados por una coma: **[1era_dim,
2da_dim]** . Aplicar el operador  **[,]**  en blanco (sin indicar alguno de los índices) ahora
es útil porque nos permite seleccionar todas las filas o todas las columnas.
Siguiendo con el ejemplo anterior, si quisiéramos seleccionar la entrada que
corresponde a  "Naranjas" en  "Tienda”,  tenemos dos opciones:

- Escribiendo el nombre de la matriz y entre corchetes los nombres de la fila y
columnas entre comillas y separados por una coma:

```{r}
M["Tienda","Naranjas"]
```
- Alternativamente, podemos utilizar los índices correspondientes a la fila y la
columna deseada

```{r}
M[2,1]
```
También podemos seleccionar toda una fila o toda una columna:

```{r}
# seleccionamos la primera fila
M[1,]
```
```{r}
# o la tercer columna
M[,3]
```
```{r}
# o los elementos en la primer fila y las columnas 2 y 4
M[1,c(2,4)]
```

####  **Añadir y quitar filas y/o columnas de una matriz**

Como vimos antes, las funciones  **cbind()** y  **rbind()** pueden usarse para crear una
matriz. Sin embargo, el uso principal de estas funciones es agregar columnas y filas,
respectivamente, a las estructuras de datos.


```{r}
# agregar filas o columnas
A <- matrix(1:9,nrow=3,ncol=3)
A

# agregamos una columna a A (que debe ser un vector de longitud 3)
A <- cbind(A,c(-1,2,0))
A

# agregamos una fila a A (que debe ser un vector de longitud 4)
A <- rbind(A,-2:-5)
A

# importa el orden
A <- matrix(1:9,nrow=3,ncol=3)
A

# agregamos una columna al final
A2 <- cbind(A,c(-1,2,0))
A2

# agregamos una columna al principio
A3 <- cbind(c(-1,2,0),A)
A3

# o también puedo eliminar las filas 1 y 3 de A3
A4 <- A3[-c(1,3),]
A4
```


### **Operaciones con Matrices**

```{r}
set.seed(1) # semilla de inicio.
A = matrix(data = sample(0:8), nrow = 3, ncol = 3)
B = matrix(data = sample(0:8), ncol = 3, nrow = 3)
A
B
```

#### **Suma de matrices**

```{r}
print(A + B)
```
#### **Resta de matrices**

```{r}
print(A-B)
```
#### **Multiplicación de una matriz por un escalar**
```{r}
3*A
```



#### **Multiplicación usual de matrices**

```{r}
print(A %*% B)
```





